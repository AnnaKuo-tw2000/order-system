import{ab as me,W as le,w as ve,o as ye,k as pe,ax as ge,b as j,ay as he,au as X,U as R,j as Y,a8 as C,$ as be,az as Q,C as D,m as F,f as H,h as U,I as E,u as o,y as Ce,l as B,ae as x,aj as we,z as K,ai as ne,r as I,ao as Ee,g as ke,ar as Se,an as Me,t as Te,at as Be,aA as Ie,a9 as De,aa as Le,aB as $e}from"./entry.026a703f.js";import{v as Z,X as q,t as Ae,u as G,Y as ee,Z as Fe,$ as Oe,a0 as Pe,b as J,s as _,r as ze,e as Ne,a as Ye,_ as ae,a1 as Re,U as ie,a2 as We,a3 as Ue,a4 as oe,a5 as _e,a6 as Xe,z as te,a7 as se,w as He}from"./button.0a9f82c1.js";import{P as V,F as Ve,i as je,E as xe}from"./auth.ed90e6d4.js";let W;const Ke=e=>{var s;if(!Z)return 0;if(W!==void 0)return W;const t=document.createElement("div");t.className=`${e}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const c=t.offsetWidth;t.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",t.appendChild(n);const u=n.offsetWidth;return(s=t.parentNode)==null||s.removeChild(t),W=c-u,W},qe=(...e)=>s=>{e.forEach(t=>{me(t)?t(s):t.value=s})},Ze=(e,s,t)=>{let c={offsetX:0,offsetY:0};const n=a=>{const m=a.clientX,d=a.clientY,{offsetX:f,offsetY:y}=c,p=e.value.getBoundingClientRect(),r=p.left,v=p.top,L=p.width,O=p.height,P=document.documentElement.clientWidth,$=document.documentElement.clientHeight,z=-r+f,N=-v+y,A=P-r-L+f,k=$-v-O+y,w=S=>{const l=Math.min(Math.max(f+S.clientX-m,z),A),b=Math.min(Math.max(y+S.clientY-d,N),k);c={offsetX:l,offsetY:b},e.value&&(e.value.style.transform=`translate(${q(l)}, ${q(b)})`)},h=()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",w),document.addEventListener("mouseup",h)},u=()=>{s.value&&e.value&&s.value.addEventListener("mousedown",n)},i=()=>{s.value&&e.value&&s.value.removeEventListener("mousedown",n)};le(()=>{ve(()=>{t.value?u():i()})}),ye(()=>{i()})},Ge=(e,s={})=>{pe(e)||Ae("[useLockscreen]","You need to pass a ref param to this function");const t=s.ns||G("popup"),c=ge(()=>t.bm("parent","hidden"));if(!Z||ee(document.body,c.value))return;let n=0,u=!1,i="0";const a=()=>{setTimeout(()=>{Pe(document==null?void 0:document.body,c.value),u&&document&&(document.body.style.width=i)},200)};j(e,m=>{if(!m){a();return}u=!ee(document.body,c.value),u&&(i=document.body.style.width),n=Ke(t.namespace.value);const d=document.documentElement.clientHeight<document.body.scrollHeight,f=Fe(document.body,"overflowY");n>0&&(d||f==="scroll")&&u&&(document.body.style.width=`calc(100% - ${n}px)`),Oe(document.body,c.value)}),he(()=>a())},re=e=>{if(!e)return{onClick:X,onMousedown:X,onMouseup:X};let s=!1,t=!1;return{onClick:i=>{s&&t&&e(i),s=t=!1},onMousedown:i=>{s=i.target===i.currentTarget},onMouseup:i=>{t=i.target===i.currentTarget}}},Je=J({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:_([String,Array,Object])},zIndex:{type:_([String,Number])}}),Qe={click:e=>e instanceof MouseEvent},eo="overlay";var oo=R({name:"ElOverlay",props:Je,emits:Qe,setup(e,{slots:s,emit:t}){const c=G(eo),n=m=>{t("click",m)},{onClick:u,onMousedown:i,onMouseup:a}=re(e.customMaskEvent?void 0:n);return()=>e.mask?Y("div",{class:[c.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:i,onMouseup:a},[C(s,"default")],V.STYLE|V.CLASS|V.PROPS,["onClick","onMouseup","onMousedown"]):be("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[C(s,"default")])}});const to=oo,ue=Symbol("dialogInjectionKey"),ce=J({center:Boolean,alignCenter:Boolean,closeIcon:{type:ze},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),so={close:()=>!0},lo=["aria-level"],no=["aria-label"],ao=["id"],io=R({name:"ElDialogContent"}),ro=R({...io,props:ce,emits:so,setup(e){const s=e,{t}=Ne(),{Close:c}=Re,{dialogRef:n,headerRef:u,bodyId:i,ns:a,style:m}=Q(ue),{focusTrapRef:d}=Q(Ve),f=D(()=>[a.b(),a.is("fullscreen",s.fullscreen),a.is("draggable",s.draggable),a.is("align-center",s.alignCenter),{[a.m("center")]:s.center},s.customClass]),y=qe(d,n),p=D(()=>s.draggable);return Ze(n,u,p),(r,v)=>(F(),H("div",{ref:o(y),class:E(o(f)),style:ne(o(m)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:u,class:E(o(a).e("header"))},[C(r.$slots,"header",{},()=>[U("span",{role:"heading","aria-level":r.ariaLevel,class:E(o(a).e("title"))},Ce(r.title),11,lo)]),r.showClose?(F(),H("button",{key:0,"aria-label":o(t)("el.dialog.close"),class:E(o(a).e("headerbtn")),type:"button",onClick:v[0]||(v[0]=L=>r.$emit("close"))},[Y(o(Ye),{class:E(o(a).e("close"))},{default:B(()=>[(F(),x(we(r.closeIcon||o(c))))]),_:1},8,["class"])],10,no)):K("v-if",!0)],2),U("div",{id:o(i),class:E(o(a).e("body"))},[C(r.$slots,"default")],10,ao),r.$slots.footer?(F(),H("footer",{key:0,class:E(o(a).e("footer"))},[C(r.$slots,"footer")],2)):K("v-if",!0)],6))}});var uo=ae(ro,[["__file","dialog-content.vue"]]);const co=J({...ce,appendToBody:Boolean,appendTo:{type:_(String),default:"body"},beforeClose:{type:_(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),fo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>We(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},mo=(e,s)=>{var t;const n=ke().emit,{nextZIndex:u}=Ue();let i="";const a=oe(),m=oe(),d=I(!1),f=I(!1),y=I(!1),p=I((t=e.zIndex)!=null?t:u());let r,v;const L=_e("namespace",Xe),O=D(()=>{const g={},T=`--${L.value}-dialog`;return e.fullscreen||(e.top&&(g[`${T}-margin-top`]=e.top),e.width&&(g[`${T}-width`]=q(e.width))),g}),P=D(()=>e.alignCenter?{display:"flex"}:{});function $(){n("opened")}function z(){n("closed"),n(ie,!1),e.destroyOnClose&&(y.value=!1)}function N(){n("close")}function A(){v==null||v(),r==null||r(),e.openDelay&&e.openDelay>0?{stop:r}=te(()=>S(),e.openDelay):S()}function k(){r==null||r(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=te(()=>l(),e.closeDelay):l()}function w(){function g(T){T||(f.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(g):k()}function h(){e.closeOnClickModal&&w()}function S(){Z&&(d.value=!0)}function l(){d.value=!1}function b(){n("openAutoFocus")}function M(){n("closeAutoFocus")}function de(g){var T;((T=g.detail)==null?void 0:T.focusReason)==="pointer"&&g.preventDefault()}e.lockScroll&&Ge(d);function fe(){e.closeOnPressEscape&&w()}return j(()=>e.modelValue,g=>{g?(f.value=!1,A(),y.value=!0,p.value=je(e.zIndex)?u():p.value++,Ee(()=>{n("open"),s.value&&(s.value.scrollTop=0)})):d.value&&k()}),j(()=>e.fullscreen,g=>{s.value&&(g?(i=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=i)}),le(()=>{e.modelValue&&(d.value=!0,y.value=!0,A())}),{afterEnter:$,afterLeave:z,beforeLeave:N,handleClose:w,onModalClick:h,close:k,doClose:l,onOpenAutoFocus:b,onCloseAutoFocus:M,onCloseRequested:fe,onFocusoutPrevented:de,titleId:a,bodyId:m,closed:f,style:O,overlayDialogStyle:P,rendered:y,visible:d,zIndex:p}},vo=["aria-label","aria-labelledby","aria-describedby"],yo=R({name:"ElDialog",inheritAttrs:!1}),po=R({...yo,props:co,emits:fo,setup(e,{expose:s}){const t=e,c=Se();se({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},D(()=>!!c.title)),se({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},D(()=>!!t.customClass));const n=G("dialog"),u=I(),i=I(),a=I(),{visible:m,titleId:d,bodyId:f,style:y,overlayDialogStyle:p,rendered:r,zIndex:v,afterEnter:L,afterLeave:O,beforeLeave:P,handleClose:$,onModalClick:z,onOpenAutoFocus:N,onCloseAutoFocus:A,onCloseRequested:k,onFocusoutPrevented:w}=mo(t,u);Me(ue,{dialogRef:u,headerRef:i,bodyId:f,ns:n,rendered:r,style:y});const h=re(z),S=D(()=>t.draggable&&!t.fullscreen);return s({visible:m,dialogContentRef:a}),(l,b)=>(F(),x($e,{to:l.appendTo,disabled:l.appendTo!=="body"?!1:!l.appendToBody},[Y(Le,{name:"dialog-fade",onAfterEnter:o(L),onAfterLeave:o(O),onBeforeLeave:o(P),persisted:""},{default:B(()=>[Te(Y(o(to),{"custom-mask-event":"",mask:l.modal,"overlay-class":l.modalClass,"z-index":o(v)},{default:B(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":l.title||void 0,"aria-labelledby":l.title?void 0:o(d),"aria-describedby":o(f),class:E(`${o(n).namespace.value}-overlay-dialog`),style:ne(o(p)),onClick:b[0]||(b[0]=(...M)=>o(h).onClick&&o(h).onClick(...M)),onMousedown:b[1]||(b[1]=(...M)=>o(h).onMousedown&&o(h).onMousedown(...M)),onMouseup:b[2]||(b[2]=(...M)=>o(h).onMouseup&&o(h).onMouseup(...M))},[Y(o(xe),{loop:"",trapped:o(m),"focus-start-el":"container",onFocusAfterTrapped:o(N),onFocusAfterReleased:o(A),onFocusoutPrevented:o(w),onReleaseRequested:o(k)},{default:B(()=>[o(r)?(F(),x(uo,Be({key:0,ref_key:"dialogContentRef",ref:a},l.$attrs,{"custom-class":l.customClass,center:l.center,"align-center":l.alignCenter,"close-icon":l.closeIcon,draggable:o(S),fullscreen:l.fullscreen,"show-close":l.showClose,title:l.title,"aria-level":l.headerAriaLevel,onClose:o($)}),Ie({header:B(()=>[l.$slots.title?C(l.$slots,"title",{key:1}):C(l.$slots,"header",{key:0,close:o($),titleId:o(d),titleClass:o(n).e("title")})]),default:B(()=>[C(l.$slots,"default")]),_:2},[l.$slots.footer?{name:"footer",fn:B(()=>[C(l.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):K("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,vo)]),_:3},8,["mask","overlay-class","z-index"]),[[De,o(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var go=ae(po,[["__file","dialog.vue"]]);const wo=He(go);export{wo as E};
