import{E as I}from"./button.0a9f82c1.js";import{E as F}from"./overlay.634e7ac5.js";import{u as E}from"./cart.15e2a50f.js";import{_ as L,G as V,r as p,C as j,f as b,h as t,F as D,J as O,u as f,j as c,l as n,k as T,Q as U,O as w,m,y as C,p as g,n as B,D as N,E as A,N as P}from"./entry.026a703f.js";import{u as G}from"./auth.ed90e6d4.js";const u=i=>(N("data-v-f6bfde31"),i=i(),A(),i),J={class:"bg-[url('/img/bg-1.jpg')] p-12 flex justify-center gap-10 text-amber-950 w-full"},Q={class:"w-1/5"},R=u(()=>t("div",{class:"text-3xl leading-[3] text-center"},"線上訂購美食",-1)),q={class:"text-xl"},z={class:"flex flex-col gap-10 w-[70%]"},H=u(()=>t("h1",{class:"text-3xl text-center"}," 訂餐列表 ",-1)),K={class:"flex flex-wrap px-2 w-full gap-6"},M=["src"],W={class:"text-2xl leading-loose font-semibold"},X=u(()=>t("div",{class:"w-24 border-b border-black mb-3"},null,-1)),Y={class:"text-xl font-semibold mb-1"},Z=u(()=>t("span",null," 要登入才能存取購物車資料喔 ",-1)),ee={class:"dialog-footer"},te={__name:"UserOrderPage",setup(i){const v=G(),_=V(),x=p([]);function y(){U(w(_,"foodInfo")).then(o=>{o.exists()&&(x.value=o.val())})}y();const l=p(!1),h=E();function $(o){var r;let e=1;if((r=v.userInfo)!=null&&r.uid){if(h.cartList){const d=h.cartList.find(s=>s.uid===o.uid);d&&(e=d.num+1)}P(w(_,`userInfo/${v.userInfo.uid}/shoppingCart/${o.uid}`),{...o,num:e})}else l.value=!0}const k=p("all"),a=o=>{k.value=o},S=j(()=>{const o=Object.values(x.value);return o.filter(e=>{switch(k.value){case"salad":return e.type==="沙拉";case"snack":return e.type==="小點";case"main course":return e.type==="主餐";case"dessert":return e.type==="甜點";default:return o}})});return(o,e)=>{const r=I,d=F;return m(),b("div",J,[t("div",Q,[R,t("ul",q,[t("li",{onClick:e[0]||(e[0]=s=>a("all")),class:"border-b border-black leading-loose hover:bg-amber-950 hover:text-white cursor-pointer"},"全部餐點 "),t("li",{onClick:e[1]||(e[1]=s=>a("main course")),class:"border-b border-black leading-loose hover:bg-amber-950 hover:text-white cursor-pointer"}," 精緻主餐"),t("li",{onClick:e[2]||(e[2]=s=>a("snack")),class:"border-b border-black leading-loose hover:bg-amber-950 hover:text-white cursor-pointer"}," 精選小點"),t("li",{onClick:e[3]||(e[3]=s=>a("salad")),class:"border-b border-black leading-loose hover:bg-amber-950 hover:text-white cursor-pointer"}," 營養沙拉"),t("li",{onClick:e[4]||(e[4]=s=>a("dessert")),class:"border-b border-black leading-loose hover:bg-amber-950 hover:text-white cursor-pointer"}," 甜蜜蜜甜點")])]),t("section",z,[H,t("div",K,[(m(!0),b(D,null,O(f(S),s=>(m(),b("div",{key:s.uid,class:"flex flex-col w-[250px] h-[300px] items-center shadow-lg text-center max-[885px]:w-[205px]"},[t("img",{src:s.imageUrl,alt:"",class:"mb-5 w-[100px] h-[100px] mt-4 object-cover"},null,8,M),t("div",W,C(s.title),1),X,t("div",Y,"$"+C(s.price),1),c(r,{class:"w-[90%] mt-5",onClick:se=>$(s)},{default:n(()=>[g("加入購物車")]),_:2},1032,["onClick"])]))),128))])]),c(d,{modelValue:f(l),"onUpdate:modelValue":e[7]||(e[7]=s=>T(l)?l.value=s:null),title:"請登入",width:"40%"},{footer:n(()=>[t("span",ee,[c(r,{onClick:e[5]||(e[5]=s=>l.value=!1)},{default:n(()=>[g("取消")]),_:1}),c(r,{type:"primary",onClick:e[6]||(e[6]=s=>("navigateTo"in o?o.navigateTo:f(B))({name:"auth-login"}))},{default:n(()=>[g(" 登入 ")]),_:1})])]),default:n(()=>[Z]),_:1},8,["modelValue"])])}}},ie=L(te,[["__scopeId","data-v-f6bfde31"]]);export{ie as default};
